# 2024-12-19

# :sunglasses: Today I Learned

## 수업: K8s
### Pod
쿠버네티스에서 생성하고 관리할 수 있는 배포 가능한 가장 작은 컴퓨팅 단위이며, 하나 이상의 컨테이너 그룹이다.<br>
이 그룹은 스토리지 및 네트워크를 공유하고, 해당 컨테이너를 구동하는 방식에 대한 명세를 가짐<br>
Pod는 직접 만들 필요는 없으며 Deployment 또는 잡과 같은 워크로드 리소스를 사용하여 생성한다.
### Node
Pod는 언제나 노드 상에서 동작한다. 노드는 쿠버네티스에서 워커 머신을 말하며 클러스터에 따라 가상 또는 물리 머신일 수 있다.<br> 
각 노드는 마스터에 의해 관리된다. 하나의 노드는 여러 개의 Pod를 가질 수 있고,<br> 
쿠버네티스 마스터는 클러스터 내 노드를 통해서 Pod에 대한 스케줄링을 자동으로 처리한다.
### Kubelet
Kubelet은 쿠버네티스 마스터와 노드 간 통신을 책임지는 프로세스이며, 하나의 머신 상에서 동작하는 Pod와 컨테이너를 관리한다.
### 워크로드
클러스터에서 실행하려는 작업이나 서비스 등을 가리키는 말로 종종 사용됨 ex) MSA, application, container, process 등등

## K8s 명령어 정리
- kubectl get nodes

### Pod 관련 명령어
- kubectl run my-app --image=nginx:latest --port 80
- kubectl get pods
- kubectl describe pod my-app
- kubectl logs my-app
### Deployment & replica
- kubectl create deployment nginx-deployment --image=nginx:1.19
- kubectl scale deployment nginx-deployment --replicas=3
- kubectl get deployments
- kubectl get replicaset
- kubectl get pods: 이 명령어로 생성된 레플리카들 확인가능
### Service 배포
1. service.yml 작성
'''
apiVersion: v1
kind: Service
metadata:
  name: nginx-service
spec:
  type: NodePort
  selector:
    app: nginx-deployment
  ports:
    - protocol: TCP
      port: 80
      targetPort: 80 # Pod가 노출하는 포트(컨테이너 내부 포트)
      nodePort: 30080 # 외부에서 개방될 포트
'''
