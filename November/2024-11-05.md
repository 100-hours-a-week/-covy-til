# 2024-11-05

# :sunglasses: Today I Learned
## 웹 응용

### Internet
- 인터넷: 전 세계 컴퓨터 네트워크의 상호 연결. TCP/IP와 같은 네트워크 프로토콜을 사용하여 다양한 네트워크를 연결함.
- 웹: 하이퍼텍스트 문서를 연결하여 정보를 공유하는 시스템. HTTP 프로토콜과 HTML을 사용함
- 인트라넷: 기업과 조직 내부에서 사용되는 사설 네트워크. 웹 기술을 기반으로 내부 정보 공유, 협업 촉진, 커뮤니케이션 개선에 사용

### 클라이언트-웹서버의 구조
1. 도메인 이름 입력: 사용자가 웹 브라우저에 HTTPS 프로토콜을 사용하여 도메인 이름을 입력
2. DNS 조회: 사용자의 장치는 DNS 리졸버를 통해 입력된 도메인의 IP주소를 조회함
3. Forward Proxy 통과: 사용자의 요청은 Forward Proxy서버를 거쳐 웹서버에 전달
4. 홈페이지의 서버와 3-way handshake: DNS 조회를 통해 얻은 IP주소를 바탕으로, 사용자의 웹브라우저와 웹서버 간의 TCP 연결을 위해 3-wh 수행
5. 서버와 TLS hadshake 시작: 사용자의 웹 브라우저는 서버와 안전한 연결을 시작하기 위해 TLS 과정을 시작
6. 서버의 공개키 및 인증서 요청: 웹 브라우저는 서버로부터 SSL/TLS 인증서와 공개키를 요청
7. CA 인증서 검증: 웹 브라우저는 받은 인증서의 유효성을 확인하기 위해, CA 공개키로 인증서를 검증
8. 암호화된 세션 생성: 인증서가 유효하면, 웹 브라우저와 서버는 공유된 비밀키를 생성하여 통신을 암호화 함
9. 안전한 HTTPS 통신: 암호화된 연결이 성공적으로 설정되면, 사용자와 웹서버 간의 데이터 교환이 안전하게 이루어짐

### DNS
- 인터넷 도메인 이름을 IP주소로 변환하는 시스템

### Proxy Server
#### Forward Proxy:
- 클라이언트 측에서 인터넷 접근을 중계하는 역할
- 이는 클라이언트의 IP주소를 은닉하고, 네트워크 접근을 제어하는데 유용함
- 자주 요청되는 리소스를 캐시하여 성능 향상
#### Reverse Proxy
- 웹서버 측에서 요청을 처리하는 역할
- 주로 로드 밸런싱, 요청 필터링, 서버 은닉 등을 통해 웹서버의 성능을 향상시키고 보안을 강화
- DDOS 공격방지, 웹어플리케이션 방화벽(WAF)을 통해 추가적인 보안 조치를 제공

### HTTP
#### Cache
- 웹 페이지, 이미지, 기타 미디어 파일 등 웹 리소스들을 사용자의 브라우저나 서버에 임시로 저장해두는 기술
- 동일한 리소스를 재활용하기위해 사용
#### ETag
- 웹서버가 각각의 웹 리소스(HTML 페이지, 이미지, 파일 등)에 대해 생성하는 고유한 식별자
- 캐시의 데이터가 신선한지 확인 하는 용도로 사용
- 사용방법 : 서버는 요청에 담겨온 리소스의 ETage와 그 리소스의 현재 ETag를 비교<br>
  일치하면 "304 Not Modified" 상태코드 반환, 일치하지않으면 최신 리소스 반환

### 폴링
#### 폴링
- 클라이언트가 정해진 주기마다 서버에 데이터가 업데이트 되었는지 요청을 보내는 방식
- 소셜 미디어 피드 업데이트, 이메일 클라이언트, 대시보드 및 모니터링 시스템 등에서 사용
- HTTP의 한계를 넘어 유저에게 실시간 통신을 하는 것처럼 보여주기 위해서 사용
- setInterval(fetchMessages, 5000)  --> 5초마다 폴링
#### 롱 폴링
- 클라이언트가 서버에 요청을 보내고, 서버는 새로운 데이터가 있을 때까지 응답을 지연시키는 방식
- 새로운 데이터가 준비되면 서버는 응답을 보내고, 클라이언트는 다시 새로운 요청을 보냄
- 스포츠 경기 실시간 점수 업데이트, 주식 거래나 가상 화폐 가격 표시 등에서 사용
- 실시간 데이터 업데이트를 위해 폴링보다 효율적인 방법을 제공하며, 서버 리소스를 보다 효과적으로 사용함

### WireShark
- 네트워크를 통과하는 트래픽을 심층적으로 분석하기 위해 사용
- 와이어샤크는 트래픽을 패킷 단위로 분석하며, 각 패킷의 소스, 목적지, 프로토콜 정보, 전송된 데이터의 내용 등을 자세히 볼 수 있음
- 이는 네트워크의 성능 저하 원인 분석, 비정상적 트래픽 탐지 등에 매우 도움이 됨

### HTTP 보안헤더
- 웹 애플리케이션을 다양한 보안 위협으로부터 효과적으로 보호하기 위해서 사용
- 웹서버에서 브라우저로 보내는 지시사항으로, 브라우저가 이를 해석하여 특정 보안 조치를 실행하는 방식으로 동작
1. CSP(컨텐츠 보안 정책): 특정 콘텐츠의 출처를 제한하여 XSS 공격방지
2. HSTS: 웹사이트가 HTTPS를 통해서만 접속되도록 강제
3. X-frame-Options: 웹페이지가 다른 페이지의 iframe내에서 랜더링되는 것을 방지하여 클릭재킹 공격으로부터 보호
4. X-XSS-Protection: 구형 브라우저에서 XSS 공격으로부터 보호
5. X-Content-Type-Options: 브라우저가 MIME 타입을 추측하여 잘못된 타입으로 실행하는 것을 방지함
6. 

### WS, WAS
#### WS
- HTTP를 통해 클라이언트의 요청에 주로 정적페이지로 응답(모듈을 추가해 동적페이지도 응답 가능하긴함)
### WAS
- HTTP를 통해 클라이언트의 요청에 주로 동적페이지를 응답
### 결론
- 일반적으로 작은 서비스에서는 WS나 WAS하나만 사용해도 충분
- 다만 서비스가 조금만 커져도 아래와 같이 두 개를 동시에 씀

### Apache, Nginx
#### Apache
- 아파치 소프트웨어 재단에서 관리하는 오픈 소스, 크로스 플랫폼 HTTP 웹 서버 소프트웨어
#### Nginx
- 비동기 이벤트 기반 구조를 가진 웹 서버 소프트웨어
#### 리버스 프록시에서 Nginx를 사용하는 이유
- Nginx는 모든 요청을 비동기적으로 처리함, 이는 I/O작업(네트워크 요청, 데이터베이스 접근 등)을 더욱 빠르게 처리할 수 있게 해줌
- 즉 Nginx는 IO를 비동기 방식으로 진행하여 동적 컨텐츠를 더 빠르게 처리할 수 있음

### SSR, CSR
#### SSR (Server-Side-Rendering)
- SSR은 사용자가 페이지를 요청할 때마다, 서버에서 HTML을 생성하여 사용자에게 전송
- Spring, Thymeleaf, Next.js 등
- 하나의 서버로 브라우저에 페이지를 서빙하는 방식은 SSR에 해당
#### CSR (Client-Side-Rendering)
- 웹 브라우저가 최초 1회 페이지 로딩 이후에 JS를 사용하여 사용자와의 상호작용에 따라 필요한 데이터만 서버로부터 받아와서 페이지를 갱신
- React.js
- '프론트엔드 서버(html,css,js만 서빙하는 역할)’, ‘백엔드 서버(데이터를 서빙하는 역할)’로 구축한 경우도 CSR에 해당함
#### 정리
- SSR은 동적인 데이터 처리와 SEO에 유리한 서버 사이드 랜더링 방식(초기 페이지 로딩 속도 향상, 검색 엔진 최적화에 유리)
- CSR은 동적인 사용자 경험을 제공하면서 클라이언트 사이드에서 페이지를 랜더링하는 방식(사용자 경험 향상, 동적인 페이지 상호작용 원활)
#### 웹 랜더링 방식의 발전
초기 웹은 SSR (Server Side Rendering) 방식으로 서버에서 HTML을 렌더링하여 클라이언트로 전송했음<br>
이는 초기 로딩 속도가 빠르고 SEO 최적화에 유리했지만, 사용자와의 실시간 상호작용이 증가하며<br> 
동적인 콘텐츠 업데이트의 지연과 서버 부하 증가라는 한계를 드러냄<br>
<br>
이후 클라이언트가 UI를 직접적으로 제어하는 CSR 방식이 주목을 받기 시작함<br>
왜냐하면, 클라이언트 측에서 랜더링을 처리하여 더 빠른 인터랙션과 부드러운 사용자 경험을 제공할 수 있기 떄문임<br>
React와 같은 라리브러리는 클라이언트에서 데이터를 기반으로 UI를 빠르게 업데이트하며 SPA 구현에 적합한 유연성을 제공함<br>
<br>
그 이후 Next.js는 SSR과 CSR을 결합하여 필요에 따라 서버 또는 클라이언트에서 랜더링을 수행하는 유연한 방식 도입했음
